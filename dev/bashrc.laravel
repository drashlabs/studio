# set composer in path
export PATH="$PATH:$HOME/.config/composer/vendor/bin"

# composer
alias cu="composer update && ci"
alias ci="rm -rf vendor/ && composer install"
alias cgu="composer global update"

# laravel:artisan
alias at="php artisan"
alias at.mf="at migrate:fresh"
alias at.mfs="at migrate:fresh --seed"
alias at.serve="at serve"
alias at.routes="at route:list"
alias at.dump="composer dumpautoload && at cache:clear && at config:clear && at route:clear && at view:clear"
alias at.prod="rm -rf vendor/ && composer install --optimize-autoloader --no-dev && at config:cache && at route:cache"

# laravel:mix
alias y.dev="yarn run dev"
alias y.prod="yarn run prod"
alias y.watch="yarn run watch"

# laravel:lumen
alias l.serve="php -S localhost:8000 -t public"
alias l.dump="composer dumpautoload && at cache:clear"

# rector: pass the directory name to be processes
function rector() {
    vendor/bin/rector process $1 --set laravel60
}
